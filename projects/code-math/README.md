# Code-Math 项目

## 项目简介

Code-Math 是一个专门工具，用于将符合特定结构的 C++ 代码转译成 Lean4 的命令式定义。**请注意**：本工具不是通用的 C++ 到 Lean4 的转译器，只能处理符合特定预设结构的代码片段。

## 核心功能

将特定模式的 C++ 数学/算法代码转换为对应的 Lean4 命令式定义
## 快速开始

## 使用要求

### 代码结构要求

您的 C++ 代码必须：

1. **使用预定义的类型别名**
   ```cpp
   // 使用：
   int32 a = 5;      // ✅
   // 不要用：
   int a = 5;        // ❌
   ```

2. **不要使用ASCII之外的字符编写代码**
   ```cpp
   int32 a = 5;      // ✅
   int32 值 = 0;     // ❌
   ```

3. **使用支持的语句结构**

## 配置文件

项目根目录下的 `include/context` 定义了可转译的模式：

## 使用方法

### 命令行工具

```bash
# 转译单个文件
./code-math input.cpp

# 转译多个文件
./code-math input1.cpp input2.cpp input3.cpp ...
```

转译的结果默认放在程序工作目录下的`Lean/`文件夹下。

```bash
# 可以使用 -o 选项指定需要输出的目录
./code-math input.cpp ... -o output/
```

### 验证工具

在转译前，建议先验证代码结构并保证代码能通过编译器的编译。

## 错误处理

当遇到不可转译的代码时，工具不会报告错误，并且可能生成错误的Lean4定义，所以请务必保证代码结构被支持且保证代码能通过编译器的编译！

## 注意事项

1. **不是通用转译器**：请勿尝试转译任意 C++ 代码
2. **结构优先**：代码结构比功能正确性更重要
3. **增量开发**：先确保结构可转译，再验证功能
4. **检查输出**：转译后请人工验证 Lean4 代码

## 扩展支持

如需支持新的代码结构，请：

1. 在 `include/context` 中添加新命令
2. 确保命令不会与原有的转译规则冲突
3. 进行测试
4. 更新文档说明

---

**重要提示**：本工具专为特定场景设计，不适合通用的 C++ 代码转换需求。